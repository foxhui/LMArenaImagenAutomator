import{_ as e,c as i,o as l,ah as r}from"./chunks/framework.BJEpWshW.js";const g=JSON.parse('{"title":"故障排查","description":"","frontmatter":{},"headers":[],"relativePath":"admin/troubleshooting.md","filePath":"admin/troubleshooting.md"}'),t={name:"admin/troubleshooting.md"};function s(o,a,n,h,d,c){return l(),i("div",null,[...a[0]||(a[0]=[r(`<h1 id="故障排查" tabindex="-1">故障排查 <a class="header-anchor" href="#故障排查" aria-label="Permalink to “故障排查”">​</a></h1><p>常见问题的诊断和解决方法。</p><h2 id="请求相关" tabindex="-1">请求相关 <a class="header-anchor" href="#请求相关" aria-label="Permalink to “请求相关”">​</a></h2><h3 id="请求被拒绝-429-too-many-requests" tabindex="-1">请求被拒绝 (429 Too Many Requests) <a class="header-anchor" href="#请求被拒绝-429-too-many-requests" aria-label="Permalink to “请求被拒绝 (429 Too Many Requests)”">​</a></h3><p><strong>问题</strong>：并发请求过多，队列已满。</p><p><strong>解决方案</strong>：</p><ul><li>启用流式模式 (<code>stream: true</code>)，可无限排队</li><li>减少并发请求数量</li><li>增加 <code>queue.queueBuffer</code> 配置值</li></ul><h3 id="请求超时" tabindex="-1">请求超时 <a class="header-anchor" href="#请求超时" aria-label="Permalink to “请求超时”">​</a></h3><p><strong>问题</strong>：任务超过 120 秒未完成。</p><p><strong>解决方案</strong>：</p><ul><li>启用流式模式，利用心跳保活</li><li>检查网络连接是否稳定</li><li>某些复杂提示词可能需要更长时间</li></ul><h2 id="验证相关" tabindex="-1">验证相关 <a class="header-anchor" href="#验证相关" aria-label="Permalink to “验证相关”">​</a></h2><h3 id="recaptcha-验证失败" tabindex="-1">reCAPTCHA 验证失败 <a class="header-anchor" href="#recaptcha-验证失败" aria-label="Permalink to “reCAPTCHA 验证失败”">​</a></h3><p><strong>问题</strong>：返回 <code>recaptcha validation failed</code>。</p><p><strong>解决方案</strong>：</p><ul><li>降低请求频率</li><li>进入登录模式手动完成验证</li><li>使用稳定纯净的 IP 地址</li><li>检查 IP 纯净度：<a href="https://ping0.cc" target="_blank" rel="noreferrer">ping0.cc</a></li></ul><h3 id="cloudflare-挑战" tabindex="-1">CloudFlare 挑战 <a class="header-anchor" href="#cloudflare-挑战" aria-label="Permalink to “CloudFlare 挑战”">​</a></h3><p><strong>问题</strong>：浏览器卡在 CloudFlare 验证页面。</p><p><strong>解决方案</strong>：</p><ul><li>进入 VNC 手动完成验证</li><li>更换 IP 地址</li><li>避免使用数据中心 IP</li></ul><h2 id="登录相关" tabindex="-1">登录相关 <a class="header-anchor" href="#登录相关" aria-label="Permalink to “登录相关”">​</a></h2><h3 id="登录状态丢失" tabindex="-1">登录状态丢失 <a class="header-anchor" href="#登录状态丢失" aria-label="Permalink to “登录状态丢失”">​</a></h3><p><strong>问题</strong>：服务重启后需要重新登录。</p><p><strong>解决方案</strong>：</p><ul><li>确保 <code>data</code> 目录持久化</li><li>检查 <code>userDataMark</code> 配置是否正确</li><li>避免删除浏览器数据目录</li></ul><h3 id="oauth-登录失败" tabindex="-1">OAuth 登录失败 <a class="header-anchor" href="#oauth-登录失败" aria-label="Permalink to “OAuth 登录失败”">​</a></h3><p><strong>问题</strong>：Google 等 OAuth 登录跳转失败。</p><p><strong>解决方案</strong>：</p><ul><li>确保可以访问 accounts.google.com</li><li>检查代理配置是否正确</li><li>尝试更换 IP 地址</li></ul><h2 id="浏览器相关" tabindex="-1">浏览器相关 <a class="header-anchor" href="#浏览器相关" aria-label="Permalink to “浏览器相关”">​</a></h2><h3 id="浏览器启动失败" tabindex="-1">浏览器启动失败 <a class="header-anchor" href="#浏览器启动失败" aria-label="Permalink to “浏览器启动失败”">​</a></h3><p><strong>问题</strong>：Camoufox 无法启动。</p><p><strong>解决方案</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新初始化 Camoufox</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><h3 id="内存不足" tabindex="-1">内存不足 <a class="header-anchor" href="#内存不足" aria-label="Permalink to “内存不足”">​</a></h3><p><strong>问题</strong>：浏览器因内存不足崩溃。</p><p><strong>解决方案</strong>：</p><ul><li>增加服务器内存（建议 2GB+）</li><li>减少同时运行的浏览器实例数量</li><li>Docker 环境确保设置 <code>--shm-size=2gb</code></li></ul><h2 id="网络相关" tabindex="-1">网络相关 <a class="header-anchor" href="#网络相关" aria-label="Permalink to “网络相关”">​</a></h2><h3 id="代理连接失败" tabindex="-1">代理连接失败 <a class="header-anchor" href="#代理连接失败" aria-label="Permalink to “代理连接失败”">​</a></h3><p><strong>问题</strong>：无法连接到代理服务器。</p><p><strong>解决方案</strong>：</p><ul><li>检查代理服务器地址和端口</li><li>验证代理认证信息</li><li>测试代理服务器是否正常</li></ul><h3 id="目标网站不可访问" tabindex="-1">目标网站不可访问 <a class="header-anchor" href="#目标网站不可访问" aria-label="Permalink to “目标网站不可访问”">​</a></h3><p><strong>问题</strong>：无法访问 LMArena/Gemini 等网站。</p><p><strong>解决方案</strong>：</p><ul><li>检查网络连接</li><li>尝试使用代理</li><li>确认目标网站未被封禁</li></ul><h2 id="日志诊断" tabindex="-1">日志诊断 <a class="header-anchor" href="#日志诊断" aria-label="Permalink to “日志诊断”">​</a></h2><h3 id="查看详细日志" tabindex="-1">查看详细日志 <a class="header-anchor" href="#查看详细日志" aria-label="Permalink to “查看详细日志”">​</a></h3><p>在 <code>config.yaml</code> 中设置日志等级：</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">logLevel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debug</span></span></code></pre></div><h3 id="常见日志信息" tabindex="-1">常见日志信息 <a class="header-anchor" href="#常见日志信息" aria-label="Permalink to “常见日志信息”">​</a></h3><table tabindex="0"><thead><tr><th>日志内容</th><th>说明</th></tr></thead><tbody><tr><td><code>工作池初始化失败</code></td><td>检查配置文件和网络</td></tr><tr><td><code>Worker 不支持模型</code></td><td>检查模型名称是否正确</td></tr><tr><td><code>验证超时</code></td><td>需要手动完成验证</td></tr><tr><td><code>页面已关闭</code></td><td>浏览器可能崩溃</td></tr></tbody></table><h2 id="获取帮助" tabindex="-1">获取帮助 <a class="header-anchor" href="#获取帮助" aria-label="Permalink to “获取帮助”">​</a></h2><p>如果以上方法无法解决问题：</p><ol><li>查看 <a href="https://github.com/foxhui/WebAI2API/issues" target="_blank" rel="noreferrer">GitHub Issues</a></li><li>提交 Issue 并附上： <ul><li>日志输出（设置 <code>logLevel: debug</code>）</li><li>配置文件（隐藏敏感信息）</li><li>操作系统和 Node.js 版本</li></ul></li></ol>`,56)])])}const b=e(t,[["render",s]]);export{g as __pageData,b as default};
